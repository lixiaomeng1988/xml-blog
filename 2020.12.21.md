### å†’æ³¡æŽ’åº

#### ä»€ä¹ˆæ˜¯å†’æ³¡æŽ’åºï¼Ÿ

- [å†’æ³¡æŽ’åºï¼ˆBubble Sortï¼‰](https://baike.baidu.com/item/å†’æ³¡æŽ’åº/4602306?fr=aladdin)æ˜¯ä¸€ç§è®¡ç®—æœºç§‘å­¦é¢†åŸŸçš„è¾ƒç®€å•çš„æŽ’åºç®—æ³•ã€‚
- å®ƒé‡å¤åœ°èµ°è®¿è¿‡è¦æŽ’åºçš„å…ƒç´ åˆ—ï¼Œä¾æ¬¡æ¯”è¾ƒä¸¤ä¸ªç›¸é‚»çš„å…ƒç´ ï¼Œå¦‚æžœä»–ä»¬çš„é¡ºåºï¼ˆå¦‚ä»Žå¤§åˆ°å°ã€é¦–å­—æ¯ä»ŽAåˆ°Zï¼‰é”™è¯¯å°±æŠŠä»–ä»¬äº¤æ¢è¿‡æ¥ã€‚èµ°è®¿å…ƒç´ çš„å·¥ä½œæ˜¯é‡å¤åœ°è¿›è¡Œç›´åˆ°æ²¡æœ‰ç›¸é‚»å…ƒç´ éœ€è¦äº¤æ¢ï¼Œä¹Ÿå°±æ˜¯è¯´è¯¥å…ƒç´ åˆ—å·²ç»æŽ’åºå®Œæˆã€‚
- è¿™ä¸ªç®—æ³•çš„åå­—ç”±æ¥æ˜¯å› ä¸ºè¶Šå¤§çš„å…ƒç´ ä¼šç»ç”±äº¤æ¢æ…¢æ…¢â€œæµ®â€åˆ°æ•°åˆ—çš„é¡¶ç«¯ï¼ˆå‡åºæˆ–é™åºæŽ’åˆ—ï¼‰ï¼Œå°±å¦‚åŒç¢³é…¸é¥®æ–™ä¸­äºŒæ°§åŒ–ç¢³çš„æ°”æ³¡æœ€ç»ˆä¼šä¸Šæµ®åˆ°é¡¶ç«¯ä¸€æ ·ï¼Œæ•…åâ€œå†’æ³¡æŽ’åºâ€ã€‚

#### ç®—æ³•åŽŸç†

- æ¯”è¾ƒç›¸é‚»çš„å…ƒç´ ã€‚å¦‚æžœç¬¬ä¸€ä¸ªæ¯”ç¬¬äºŒä¸ªå¤§ï¼Œå°±äº¤æ¢ä»–ä»¬ä¸¤ä¸ªã€‚
- å¯¹æ¯ä¸€å¯¹ç›¸é‚»å…ƒç´ åšåŒæ ·çš„å·¥ä½œï¼Œä»Žå¼€å§‹ç¬¬ä¸€å¯¹åˆ°ç»“å°¾çš„æœ€åŽä¸€å¯¹ã€‚åœ¨è¿™ä¸€ç‚¹ï¼Œæœ€åŽçš„å…ƒç´ åº”è¯¥ä¼šæ˜¯æœ€å¤§çš„æ•°
- é’ˆå¯¹æ‰€æœ‰çš„å…ƒç´ é‡å¤ä»¥ä¸Šçš„æ­¥éª¤ï¼Œé™¤äº†æœ€åŽä¸€ä¸ªã€‚
- æŒç»­æ¯æ¬¡å¯¹è¶Šæ¥è¶Šå°‘çš„å…ƒç´ é‡å¤ä¸Šé¢çš„æ­¥éª¤ï¼Œç›´åˆ°æ²¡æœ‰ä»»ä½•ä¸€å¯¹æ•°å­—éœ€è¦æ¯”è¾ƒã€‚

### æ—¶é—´å¤æ‚åº¦

- è‹¥æ–‡ä»¶çš„åˆå§‹çŠ¶æ€æ˜¯æ­£åºçš„ï¼Œä¸€è¶Ÿæ‰«æå³å¯å®ŒæˆæŽ’åºã€‚æ‰€éœ€çš„å…³é”®å­—æ¯”è¾ƒæ¬¡æ•°Cå’Œè®°å½•ç§»åŠ¨æ¬¡æ•°M å‡è¾¾åˆ°æœ€å°å€¼ï¼šC=n-1 ï¼Œ M=0ã€‚
- æ‰€ä»¥ï¼Œå†’æ³¡æŽ’åºæœ€å¥½çš„æ—¶é—´å¤æ‚åº¦ä¸ºO(n) ã€‚
- è‹¥åˆå§‹æ–‡ä»¶æ˜¯ååºçš„ï¼Œéœ€è¦è¿›è¡Œ n-1 è¶ŸæŽ’åºã€‚æ¯è¶ŸæŽ’åºè¦è¿›è¡Œ n-i æ¬¡å…³é”®å­—çš„æ¯”è¾ƒ(1â‰¤iâ‰¤n-1)ï¼Œä¸”æ¯æ¬¡æ¯”è¾ƒéƒ½å¿…é¡»ç§»åŠ¨è®°å½•ä¸‰æ¬¡æ¥è¾¾åˆ°äº¤æ¢è®°å½•ä½ç½®ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæ¯”è¾ƒå’Œç§»åŠ¨æ¬¡æ•°å‡è¾¾åˆ°æœ€å¤§å€¼ï¼š C = n(n-1)/2 = O(n^2). M = 3n(n-1)/2 = O(n^2).

å†’æ³¡æŽ’åºçš„æœ€åæ—¶é—´å¤æ‚åº¦ä¸º O(n^2)ã€‚ ç»¼ä¸Šï¼Œå› æ­¤å†’æ³¡æŽ’åºæ€»çš„å¹³å‡æ—¶é—´å¤æ‚åº¦ä¸ºO(n^2)ã€‚

### ç®—æ³•ç¨³å®šæ€§

- å†’æ³¡æŽ’åºå°±æ˜¯æŠŠå°çš„å…ƒç´ å¾€å‰è°ƒæˆ–è€…æŠŠå¤§çš„å…ƒç´ å¾€åŽè°ƒã€‚æ¯”è¾ƒæ˜¯ç›¸é‚»çš„ä¸¤ä¸ªå…ƒç´ æ¯”è¾ƒï¼Œäº¤æ¢ä¹Ÿå‘ç”Ÿåœ¨è¿™ä¸¤ä¸ªå…ƒç´ ä¹‹é—´ã€‚æ‰€ä»¥ï¼Œå¦‚æžœä¸¤ä¸ªå…ƒç´ ç›¸ç­‰ï¼Œæ˜¯ä¸ä¼šå†äº¤æ¢çš„ï¼›å¦‚æžœä¸¤ä¸ªç›¸ç­‰çš„å…ƒç´ æ²¡æœ‰ç›¸é‚»ï¼Œé‚£ä¹ˆå³ä½¿é€šè¿‡å‰é¢çš„ä¸¤ä¸¤äº¤æ¢æŠŠä¸¤ä¸ªç›¸é‚»èµ·æ¥ï¼Œè¿™æ—¶å€™ä¹Ÿä¸ä¼šäº¤æ¢ï¼Œæ‰€ä»¥ç›¸åŒå…ƒç´ çš„å‰åŽé¡ºåºå¹¶æ²¡æœ‰æ”¹å˜ï¼Œæ‰€ä»¥å†’æ³¡æŽ’åºæ˜¯ä¸€ç§ç¨³å®šæŽ’åºç®—æ³•ã€‚

### æ˜¯å¦æ˜¯åŽŸåœ°ç®—æ³•

- ä½•ä¸ºåŽŸåœ°ç®—æ³•ï¼Ÿ
  - ä¸ä¾èµ–é¢å¤–çš„èµ„æºæˆ–è€…ä¾èµ–å°‘æ•°çš„é¢å¤–èµ„æºï¼Œä»…ä¾é è¾“å‡ºæ¥è¦†ç›–è¾“å…¥
  - ç©ºé—´å¤æ‚åº¦ä¸º ð‘‚(1) çš„éƒ½å¯ä»¥è®¤ä¸ºæ˜¯åŽŸåœ°ç®—æ³•
- éžåŽŸåœ°ç®—æ³•ï¼Œç§°ä¸º Not-in-place æˆ–è€… Out-of-place
- å†’æ³¡æŽ’åºå±žäºŽ In-place

### ä»£ç 

```javascript
const arr = [7, 3, 5, 8, 6, 7, 4, 5, 19, 30, 40, 50];
let c = 0; // count è®¡æ•°ï¼Œè®¡ç®—å¾ªçŽ¯æ¬¡æ•°
let m = 0; // modify äº¤æ¢æ¬¡æ•°

for (var end = arr.length - 1; end > 0; end--) {
  for (var begin = 0; begin < end; begin++) {
    c++;
    if (arr[begin] > arr[begin + 1]) {
      m++;
      const current = arr[begin];
      arr[begin] = arr[begin + 1];
      arr[begin + 1] = current;
    }
  }
}

console.log(c, m); // 66, 14
```

### ä¼˜åŒ–

- æˆ‘ä»¬çŸ¥é“ï¼Œæ¯æ¬¡éƒ½æ˜¯ä¸¤ä¸¤æ¯”è¾ƒï¼Œå¦‚æžœå·²ç»æ‹å¥½é¡ºåºäº†ã€‚å¯ä»¥æå‰ç»ˆæ­¢æŽ’åº

```javascript
const arr = [7, 3, 5, 8, 6, 7, 4, 5, 19, 30, 40, 50];
let c = 0;
let m = 0;

for (var end = arr.length - 1; end > 0; end--) {
  let sorted = true;
  for (var begin = 0; begin < end; begin++) {
    c++;
    if (arr[begin] > arr[begin + 1]) {
      m++;
      const current = arr[begin];
      arr[begin] = arr[begin + 1];
      arr[begin + 1] = current;
      sorted = false;
    }
  }
  
  // æ¥åˆ°è¿™é‡Œï¼Œè¯´æ˜Žæ²¡æœ‰äº¤æ¢è¿‡ã€‚å·²ç»æ˜¯å®Œå…¨æœ‰åºçš„äº†ã€‚æå‰ç»ˆæ­¢æŽ’åº
  if (sorted) break;
}

console.log(c, m); // 51, 14
```

### å†æ¬¡ä¼˜åŒ–

- å¦‚æžœåºåˆ—å°¾éƒ¨å·²ç»å±€éƒ¨æœ‰åºï¼Œå¯ä»¥è®°å½•æœ€åŽ1æ¬¡äº¤æ¢çš„ä½ç½®ï¼Œå‡å°‘æ¯”è¾ƒæ¬¡æ•°

```javascript
const arr = [7, 3, 5, 8, 6, 7, 4, 5, 19, 30, 40, 50];
let c = 0;
let m = 0;

for (var end = arr.length - 1; end > 0; end--) {
  let sortedIndex = 0;
  for (var begin = 0; begin < end; begin++) {
    c++;
    if (arr[begin] > arr[begin + 1]) {
      m++;
      const current = arr[begin];
      arr[begin] = arr[begin + 1];
      arr[begin + 1] = current;
      sortedIndex = begin + 1;
    }
  }

  end = sortedIndex;
}

console.log(c, m); // 30, 14
```

